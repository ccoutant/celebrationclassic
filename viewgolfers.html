{% extends "base.html" %}

{% block title %}Golfers{% endblock %}

{% block head %}
<style type="text/css">
#body { width: 100%; }
#body #header { margin-left: auto; margin-right: auto; }
#body #nav { width: 12%; margin-left: 3%; }
#body #content { width: 79%; margin-left: 3%; margin-bottom: 3em; }
#body table { width: 100%; border: none; border-collapse: collapse; border-bottom: 2px solid #c4e5c4; margin-bottom: 2em; }
#body thead tr { border-bottom: 2px solid #c4e5c4; }
#body tbody tr.sponsor { border-top: 1px solid #c4e5c4; }
#body tbody tr.golfer:hover { background-color: #e7fbe7; }
#body th { color: #6061ab; padding: 0.5em; text-align: left; }
#body td { padding: 0.5em; }
#body tr.sponsor td { font-weight: bold; padding-top: 1em; }
#body td.firstcol { padding-left: 2em; }
#body td p { margin: 0; }
#body td p.details { margin-left: 3em; font-size: 80%; color: #555; }
#body tr.pairing p { font-size: 80%; font-style: italic; color: #555; }
ul.pages { list-style: none; margin: 0; padding: 0; text-align: right; }
ul.pages li { display: inline; margin: 0; padding: 0 1em 0 0; }
</style>
{% endblock %}

{% block content %}
<h2>Golfers</h2>

{% if golfers %}

<ul class="pages">
	<li><a href="/admin/csv/golfers">Download CSV</a></li>
</ul>

<table>
<thead>
	<tr valign="bottom">
		<th>Sponsor/Contact<br>&emsp;&emsp;Golfer</th>
		<th>Index<br>Best Score<br>GHN Number</th>
		<th>Shirt Size</th>
	</tr>
</thead>
<tbody>
{% for g in golfers %}
	{% ifequal g.golfer.sequence 1 %}
	<tr class="sponsor" valign="baseline">
	<td colspan="3"><a href="/register?id={{ g.sponsor_id }}">{{ g.sponsor_name }}</a></td>
	</tr>
	{% endifequal %}
	<tr class="golfer" valign="baseline">
		<td class="firstcol">
		<p>{{ g.count }}.&ensp;{{ g.golfer.name|default:"N/A" }}</p>
		{% if g.golfer.company %}<p class="details">{{ g.golfer.company }}</p>{% endif %}
		{% if g.golfer.address %}<p class="details">{{ g.golfer.address }}</p>{% endif %}
		{% if g.golfer.city %}<p class="details">{{ g.golfer.city }}</p>{% endif %}
		{% if g.golfer.email %}<p class="details">Email: <a href="mailto:{{ g.golfer.email }}">{{ g.golfer.email }}</a></p>{% endif %}
		{% if g.golfer.phone %}<p class="details">Phone: {{ g.golfer.phone }}</p>{% endif %}
		{% if g.golfer.fax %}<p class="details">Fax: {{ g.golfer.fax }}</p>{% endif %}
		</td>
		<td>
		{% if g.golfer.golf_index %}<p>Index: {{ g.golfer.golf_index }}</p>{% endif %}
		{% if g.golfer.best_score %}<p>Best Score: {{ g.golfer.best_score }}</p>{% endif %}
		{% if g.golfer.ghn_number %}<p>GHN Number: {{ g.golfer.ghn_number }}</p>{% endif %}
		</td>
		<td>{{ g.golfer.shirt_size }}</td>
	</tr>
	{% if g.pairing %}
	<tr class="pairing" valign="baseline">
	<td class="firstcol" colspan="3"><p>Pairing preference: {{ g.pairing }}</p></td>
	</tr>
	{% endif %}
{% endfor %}
</tbody>
</table>

{% else %}

<p>No golfers yet.</p>

{% endif %}

<p><b>Total shirts by size:</b></p>
<ul>
{% for key, value in shirt_sizes.items %}
	<li>{{ key }}: {{ value }}</li>
{% endfor %}
</ul>
{% endblock %}
